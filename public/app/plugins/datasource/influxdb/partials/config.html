<datasource-http-settings current="ctrl.current" suggest-url="http://localhost:8086">
</datasource-http-settings>

<h3 class="page-heading">InfluxDB详细信息</h3>

<div class="gf-form-group">
	<div class="gf-form-inline">
		<div class="gf-form max-width-30">
			<span class="gf-form-label width-10">数据</span>
			<input type="text" class="gf-form-input" ng-model='ctrl.current.database' placeholder="" required></input>
		</div>
	</div>

	<div class="gf-form-inline">
		<div class="gf-form max-width-15">
			<span class="gf-form-label width-10">用户</span>
			<input type="text" class="gf-form-input" ng-model='ctrl.current.user' placeholder=""></input>
		</div>
		<div class="gf-form">
      <secret-form-field
        isConfigured="ctrl.current.password || ctrl.current.secureJsonFields.password"
        value="ctrl.current.secureJsonData.password || ''"
        on-reset="ctrl.onPasswordReset"
        on-change="ctrl.onPasswordChange"
        inputWidth="9"
      />
		</div>
	</div>

	<div class="gf-form">
		<label class="gf-form-label width-8">HTTP方法</label>
		<div class="gf-form-select-wrapper width-8 gf-form-select-wrapper--has-help-icon">
			<select class="gf-form-input" ng-model="ctrl.current.jsonData.httpMode" ng-options="f.value as f.name for f in ctrl.httpMode"></select>
      		<info-popover mode="right-absolute">
            你可以使用其中之一 <code>GET</code> or <code>POST</code> 用于查询InfluxDB数据库的HTTP方法。该 <code>POST</code>
            方法允许你执行繁重的请求（有很多<code> WHERE </code>子句） 而<code> GET </code>方法
            如果查询太大，将限制您并返回错误。
      		</info-popover>
		</div>
	</div>

</div>


<div class="gf-form-group">
	<div class="grafana-info-box">
		<h5>数据库访问</h5>
		<p>
      为此数据源设置数据库不会拒绝访问其他数据库。 InfluxDB查询语法允许
      在查询中切换数据库。 例如：
      <code>在_internal </code>或<code> SELECT * FROM“_internal”..“数据库”LIMIT 10 </code>上显示测量值
      要支持数据隔离和安全性，请确保在InfluxDB中配置了适当的权限。
		</p>
	</div>
</div>

<div class="gf-form-group">
	<div class="gf-form-inline">
		<div class="gf-form">
			<span class="gf-form-label">最小时间间隔</span>
			<input type="text" class="gf-form-input width-6 gf-form-input--has-help-icon" ng-model="ctrl.current.jsonData.timeInterval" spellcheck='false' placeholder="10s"></input>
			<info-popover mode="right-absolute">
        按时间间隔的自动组的下限。 建议设置为写入频率，
        例如<code> 1m </code>，如果您的数据每分钟写一次。
			</info-popover>
		</div>
	</div>
</div>
